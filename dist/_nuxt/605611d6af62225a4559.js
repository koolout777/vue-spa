(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{197:function(t,e,o){"use strict";o.r(e);o(25),o(14),o(15),o(9),o(22),o(31);var n=o(10),c=o(116),r=o(4);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _={computed:l(l({},Object(r.c)("user",["getAuth","getLogin"])),Object(r.c)("post",["getPostData"])),middleware:"newsPost",data:function(){return{postData:[],comment:"",isCreate:!1}},components:{Breadcrumbs:c.a},beforeRouteLeave:function(t,e,o){"post"!=t.name&&this.setPostData([]),o()},methods:l(l(l({},Object(r.b)("post",["postComment","fetchPostContent"])),Object(r.d)("post",["setPostData"])),{},{doGetTime:function(data){var t,e=new Date,o=new Date(data),n=Math.abs(e-o),c=Math.floor(n/864e5),r=Math.floor((n/36e5).toFixed(1)),m=Math.floor((n/6e4).toFixed(1)),l=Math.floor((n/1e3).toFixed(1)),_=12*e.getFullYear()+e.getMonth()-(12*o.getFullYear()+o.getMonth());return 0!=_&&(t=_>1?_+" months ago":_+" month ago"),0==_&&(t=c>1?c+" days ago":c+" day ago"),0==_&&0==c&&(t=r>1?r+" hours ago":r+" hour ago"),0==_&&0==c&&0==r&&(t=m>1?m+" minutes ago":m+" minute ago"),0==_&&0==c&&0==r&&0==m&&(t=l>1?" Few seconds ago":"Just now"),t},doAddComment:function(){var t=this;""!=this.comment?(this.postComment(this.comment),this.fetchPostContent(),this.postData=this.getPostData,this.comment=""):this.$nextTick((function(){t.$refs.cbox.focus()}))}})},d=o(5),component=Object(d.a)(_,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Breadcrumbs",{attrs:{isCreate:t.isCreate}}),t._v(" "),o("div",{staticClass:"post"},[o("div",{staticClass:"post__wrapper l-container"},[o("div",{staticClass:"post__edit"},["true"==t.getLogin?o("nuxt-link",{staticClass:"post__edit-link",attrs:{to:"/post"}},[t._v("Edit Post")]):t._e()],1),t._v(" "),o("p",{staticClass:"post__date"},[t._v(t._s(t.getPostData.createdAt?t.getPostData.createdAt.match(/^([\S]+)/g).toString().replace(/[[\]]/g,""):""))]),t._v(" "),o("h2",{staticClass:"post__title"},[t._v(t._s(t.getPostData.title))]),t._v(" "),o("div",{staticClass:"post__image",style:{backgroundImage:"url('"+(t.getPostData.image?t.getPostData.image:"/no-image.png")+"')"}}),t._v(" "),o("p",{staticClass:"post__content"},[t._v(t._s(t.getPostData.content))]),t._v(" "),o("div",{staticClass:"post-comment"},[o("h3",{staticClass:"post-comment__header"},[t._v("COMMENT")]),t._v(" "),o("ul",{staticClass:"post-comment__list"},t._l(t.getPostData.comments,(function(e,i){return o("li",{key:i,staticClass:"post-comment__list-item"},[o("p",{staticClass:"post-comment__content"},[t._v(t._s(e.content))]),t._v(" "),o("span",{staticClass:"post-comment__date"},[t._v(t._s(t.doGetTime(e.createdAt)))])])})),0),t._v(" "),o("form",{staticClass:"post-comment__box",attrs:{action:""}},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],ref:"cbox",staticClass:"post-comment__input",attrs:{placeholder:"Write comment"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),t._v(" "),o("div",{staticClass:"post-comment__button-wrapper"},[o("input",{staticClass:"post-comment__button",attrs:{type:"button",value:"SUBMIT"},on:{click:function(e){return t.doAddComment()}}})])])])])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);